\chapter{Background}
\label{chap:bg}
Navigation is a broad problem involving different scientific areas. Generally speaking, a path to the destination must be found first. That problem is solved by pathplanning, a problem commonly associated with robotics, and specifically by pathfinding, a well-known and studied problem of artificial intelligence. Once a path is known, it must be realized into a natural language. The realization is studied by Natural Language Generation (NLG), a part of the discipline of Natural Language Processing (NLP), which itself belongs to Computational Linguistics (CL). On top of these two subproblems, one has to consider the domain the navigation is intended for. Differences in the design between car navigation systems and art gallery guides are immense.

I would like to briefly touch on why navigation is still an interesting problem, when navigation devices are nowadays almost a necessary part of a car equipment. Car navigation is a specific navigation problem. Great availability of maps is one of the reasons why car navigation is so developed and massively produced. It has limited sense of direction, because cars only move on roads, as far as navigation is concerned anyway. The roads can fork and form complicated cross-roads, but that isn't still nowhere close to the free movement of, for example, walking. The limited sense of directions ties to a relatively limited vocabulary. Thanks to a usually well-defined space where car moves, the navigation system's world representation can be relatively straightforward. Car navigation is still a complicated problem, but being able to relatively well navigate drivers around mapped areas tells us little about other navigation in other domains.

This thesis studies navigation in virtual environment when the navigated person is walking in a house-like environment and apart from moving around must perform other tasks. This environment is radically different from the problem of car navigation. 

The primary interest of this thesis is NLG part of navigation and more specifically referring expression generation, which I will introduce in the first section. 

The second section summarizes related research in referring expression generation. 


\section{Introduction and historical overview}
\label{sec:bg-reg}
From the complex problem of navigating persons, I'm especially interested in the language generation subproblem. Moreover, I limited my research mostly to the domain of Referring Expression Generation (REG). REG is a part of NLG. In the dataset and framework, which I will present in the following chapters, REG is an especially important part of language generation. In fact, in the virtual world which I'm working with, extending REG system to a complete language generation system is a trivial task of adding few verbs.

\citet{krahmer2012computational} created a very well written survey of history and development of REG up to recent times. Following the principle of ``Don't reinvent the wheel,'' I will provide only a short explanation of what REG is and a brief overview of its history both of them being heavily inspired by the survey.

REG belongs to the domain of Natural Language Generation (NLG). It is concerned with generating referring expressions (RE) to an object or objects of interest. Suppose we have three buttons next to each other and we need one of them to be pressed. Also suppose we are not able to do it ourself right now, but another person is available nearby. Most individuals would have no trouble to address the person nearby and ask him to press the button. Part of their utterance would ``point out'' which button of the three needs to be pressed. That part of the utterance is a RE. Producing understandable and effective REs is for most speakers a relatively easy task. But for computer programs it is not so. The context of the real world application is usually very large and if we take into account mutual relationships between entities in the context (such as a button is next to a painting), the amount of possible combinations quickly grows to problematic numbers. 

The first REG research appeared in the 1980s. \citet{krahmer2012computational} state that, influenced by methodologies of computation linguistic at that time, they studied REG as a part of larger speech acts and doing so on hard and often anomalous cases. In 1990s, a famous paper by \citet{dale1995computational} shifted the focus to determining which properties should be used, when the goal is to identify the referent, while avoiding being more informative than required. The new aim of REG was generating human-like descriptions.  According to \citet{krahmer2012computational}, the 1990s also spawned first REG algorithms for well defined REG problem, such as the influential Incremental Algorithm. However, the research was limited to the target being just one object, simple knowledge representation, no vague properties, all objects being equally salient and ignoring the stage of surface realization of the chosen properties. ``A substantial part of recent REG research is dedicated to lifting one or more of these simplifying assumptions.'' \citep{krahmer2012computational} 

Apart from lifting these assumptions, recent REG research has been interested in the evaluation of REG algorithms. We can also see a tendency to move from simple well-defined environments, towards more natural and complex ones. While the environment, that this thesis is examining, is not exactly a natural one, it is more realistic and complex than some of the previous scenarios used in REG research.

Exploring a dataset of spoken navigation through a complex 3D virtual world, I have noticed some behaviours which slightly deviates from the conventional focus of REG research. Speakers do not necessarily produce a reference which uniquely identifies the referent in the current context. Instead, they produce a reference which only partially identifies the referent first and then rely on feedback and additional REs when necessary to identify the referent. This thesis is primarily focused on this strategy.

Having introduced the REG, I'll now move onto related research.

\section{Current research}
\label{sec:relwork}
In this section I will briefly present work from the area of REG, which I deem relevant to my research.

\citet{ha2012combining} talk about an `information gap' caused by existence of a non-dialogue communication stream. They concluded that the posture of user, an example of implicit information from the non-dialogue streams, is a significant attribute in the modeling of dialog acts. Their goal is to overcome this `information gap' through machine learning techniques. A shared view of the virtual world in this thesis is also a form of non-dialogue stream, with which the navigation system must work. I also try to apply machine learning to help with language generation.

\citet{viethen2011generating} compare traditional algorithmic approaches with alignment approaches based on psycho-linguistic models of REG. They use a large data-set (16,358 referring expressions) of a direction giving task on a shared 2D visual scene introduced by \citet{louwerse2007multimodal}. They use three feature sets: traditional REG set, alignment set and independent set (general information about the scene) to build decision tree models (concretely C4.5) to predict content patterns in subsequent references. The traditional REG set includes features such as the distance to the closest visual distractor and the number of visual distractors. The alignment set includes features such as distance in REs to the last use of the predicted attribute for the target and how often has the attribute been used for the target. Most frequent type of landmark is one of the features in the independent set. The alignment based models outperformed the traditional REG ones and the best model combines all feature sets to achieve an accuracy of 58.8\,\%. Not using traditional algorithmic REG features did not result in a significant decrease of accuracy, suggesting that the visual context doesn't play such an important role as it was believed in the REG research so far.  \citet{viethen2011impact} verified this surprising conclusion by varying the visual context. They argue that the relative simplicity of visual scenes used in contemporary research might be the cause of insignificance of the visual context. I would argue that the 3D virtual world explored in this thesis is more complex then theirs and therefore this paper can provide some further insight into these questions.  

\citet{stoia2006sentence} were interested in the timing of the first reference to a target in a 3D virtual world. They transformed the problem of the timing into a binary classification, where they predicted whether a direction giver refers to the target or delays the reference based on the spatial data. The classifier was trained and tested on two equally sized groups of time points. First, time points when the first reference was uttered in collected data. Second, time points randomly selected between acquiring perceptual access to the target and the point of the first reference. Their attributes the were angle and distance to the target, the number of visible distractors (either only these with the same category as the target or all of them) and whether the target is visible. The most important feature in the decision tree model was the number of visible distractors followed by angle and distance. They achieved 86\,\% accuracy, compared to a baseline of a 70\,\% accuracy. The baseline was to refer when the target is visible and to delay the reference when the target isn't visible. Part of the machine learning attempts of this thesis replicate the first reference timing experiment of \citet{stoia2006sentence} on the S-GIVE dataset.

\citet{stoia2006noun} developed decision trees to generate a noun phrase, specified by three slots: determiner/quantifier, pre-modifier/post-modifier and head noun. They used a data-set from a 3D virtual world navigation task similar to the S-GIVE dataset. Four categories of features were used: dialog history, spatial and visual features, relation to other objects in the world and the object category. The decision trees revealed significant dependencies between the slots and the importance of the spatial features. Interestingly, they used three types of system evaluation. The exact match evaluation produced 31.2\,\% accuracy compared to a 20\,\% most-frequent baseline. A comparison with a hand-crafted Centering algorithm \citep{kibble2000integrated} ended with similar accuracy, favoring the machine-learning approach for requiring less structural analysis of the input text. Lastly, when humans judged the system output, it was at least equal or preferred to the original spontaneous language in 62.6\,\% (inter-annotator reliability $\kappa = 0.51$).

\citet{gallo2008production} showed that the Fruit Carts corpus can be used in NLG by case study on message complexity and structural realizations. In Fruit Carts corpus one participant - the speaker - is given a map with geometric shapes and fruits in a specific configuration. The speaker's task is to instruct the second participant - the actor - to reorganize the objects in the actor's scene to match the speaker's map. A logistic regression confirmed that the complexity of verb arguments affects production choice between mono-clausal or bi-clausal structure. In other words, people tend separate complex instructions into multiple clauses. Therefore the complexity of the virtual environment affects how people speak on all linguistic levels. REG should take that into consideration.

\citet{clark2004speaking} examined speakers' monitoring of addressees in a Lego-building experiment. One participant - the director - knew 10 Lego models and how to build them. The director was verbally instructing the second participant - the builder - to build these models. In one group the director could see the builders workspace, in a second group he could not and in a third the instructions were audio-taped and simply passed onto the builder. Builders communicated with the directors on the workspace through head gestures and manipulating blocks (placing, exhibiting or poising and so on). When the workspace was blocked of, the task took much longer. In the audio-taped group the builders made many more errors. Directors often altered their utterances mid-course based on the builders actions. This ties to the importance of a shared visual context and also suggests the importance of quick feedback. 

\citet{koller2012enhancing} tracked hearer gaze using a camera and used that information to produce feedback to correct or confirm previous referring expressions. The experiment took place in a 3D virtual world. This enhancement was compared with feedback based on the instruction follower's position and with a system with no feedback at all. The eye-tracking enhancement allowed generating REs, which were significantly better understood by the hearers. Eye-tracking is therefore a useful tool to improve interaction quality. This experiment also shows the importance of feedback, since the system with no feedback performed worse than the two systems with feedback.